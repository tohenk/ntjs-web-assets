!/**
 * Highcharts JS v12.0.1 (2024-11-28)
 * @module highcharts/modules/windbarb
 * @requires highcharts
 *
 * Wind barb series module
 *
 * (c) 2010-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").dataGrouping.approximations,require("highcharts").Series.types.column,require("highcharts").Series,require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/windbarb",[["highcharts/highcharts"],["highcharts/highcharts","dataGrouping","approximations"],["highcharts/highcharts","Series","types","column"],["highcharts/highcharts","Series"],["highcharts/highcharts","SeriesRegistry"]],e):"object"==typeof exports?exports["highcharts/windbarb"]=e(require("highcharts"),require("highcharts").dataGrouping.approximations,require("highcharts").Series.types.column,require("highcharts").Series,require("highcharts").SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.dataGrouping.approximations,t.Highcharts.Series.types.column,t.Highcharts.Series,t.Highcharts.SeriesRegistry)}(this,(t,e,r,i,o)=>(()=>{"use strict";var s,a={448:t=>{t.exports=r},820:t=>{t.exports=i},512:t=>{t.exports=o},956:t=>{t.exports=e},944:e=>{e.exports=t}},n={};function h(t){var e=n[t];if(void 0!==e)return e.exports;var r=n[t]={exports:{}};return a[t](r,r.exports,h),r.exports}h.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return h.d(e,{a:e}),e},h.d=(t,e)=>{for(var r in e)h.o(e,r)&&!h.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},h.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var l={};h.d(l,{default:()=>W});var p=h(944),c=/*#__PURE__*/h.n(p),u=h(956),d=/*#__PURE__*/h.n(u),g=h(448),f=/*#__PURE__*/h.n(g),x=h(820),y=/*#__PURE__*/h.n(x);let{composed:b}=c(),{prototype:m}=f(),{prototype:v}=y(),{defined:S,pushUnique:L,stableSort:w}=c();!function(t){function e(t){return v.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function r(){m.translate.apply(this);let t=this,e=t.options,r=t.chart,i=t.points,o=e.onSeries,s=o&&r.get(o),a=s&&s.options.step,n=s&&s.points,h=r.inverted,l=t.xAxis,p=t.yAxis,c=i.length-1,u,d,g=e.onKey||"y",f=n&&n.length,x=0,y,b,v,L,X;if(s&&s.visible&&f){for(x=(s.pointXOffset||0)+(s.barW||0)/2,L=s.currentDataGrouping,b=n[f-1].x+(L?L.totalRange:0),w(i,(t,e)=>t.x-e.x),g="plot"+g[0].toUpperCase()+g.substr(1);f--&&i[c];)if(y=n[f],(u=i[c]).y=y.y,y.x<=u.x&&void 0!==y[g]){if(u.x<=b&&(u.plotY=y[g],y.x<u.x&&!a&&(v=n[f+1])&&void 0!==v[g])){if(S(u.plotX)&&s.is("spline")){let t=[y.plotX||0,y.plotY||0],e=[v.plotX||0,v.plotY||0],r=y.controlPoints?.high||t,i=v.controlPoints?.low||e,o=(o,s)=>Math.pow(1-o,3)*t[s]+3*(1-o)*(1-o)*o*r[s]+3*(1-o)*o*o*i[s]+o*o*o*e[s],s=0,a=1,n;for(let t=0;t<100;t++){let t=(s+a)/2,e=o(t,0);if(null===e)break;if(.25>Math.abs(e-u.plotX)){n=t;break}e<u.plotX?s=t:a=t}S(n)&&(u.plotY=o(n,1),u.y=p.toValue(u.plotY,!0))}else X=(u.x-y.x)/(v.x-y.x),u.plotY+=X*(v[g]-y[g]),u.y+=X*(v.y-y.y)}if(c--,f++,c<0)break}}i.forEach((e,r)=>{let o;e.plotX+=x,(void 0===e.plotY||h)&&(e.plotX>=0&&e.plotX<=l.len?h?(e.plotY=l.translate(e.x,0,1,0,1),e.plotX=S(e.y)?p.translate(e.y,0,0,0,1):0):e.plotY=(l.opposite?0:t.yAxis.len)+l.offset:e.shapeArgs={}),(d=i[r-1])&&d.plotX===e.plotX&&(void 0===d.stackIndex&&(d.stackIndex=0),o=d.stackIndex+1),e.stackIndex=o}),this.onSeries=s}t.compose=function(t){if(L(b,"OnSeries")){let i=t.prototype;i.getPlotBox=e,i.translate=r}return t},t.getPlotBox=e,t.translate=r}(s||(s={}));let X=s;var k=h(512),G=/*#__PURE__*/h.n(k);let{isNumber:M}=c();class O extends f().prototype.pointClass{isValid(){return M(this.value)&&this.value>=0}}let{animObject:P}=c(),{column:A}=G().seriesTypes,{extend:Y,merge:q,pick:H}=c();class I extends A{init(t,e){super.init(t,e)}pointAttribs(t,e){let r=this.options,i=t.color||this.color,o=this.options.lineWidth;return e&&(i=r.states[e].color||i,o=(r.states[e].lineWidth||o)+(r.states[e].lineWidthPlus||0)),{stroke:i,"stroke-width":o}}windArrow(t){let e=t.beaufortLevel,r=this.options.vectorLength/20,i=1.943844*t.value,o,s=-10;if(t.isNull)return[];if(0===e)return this.chart.renderer.symbols.circle(-10*r,-10*r,20*r,20*r);let a=[["M",0,7*r],["L",-1.5*r,7*r],["L",0,10*r],["L",1.5*r,7*r],["L",0,7*r],["L",0,-10*r]];if((o=(i-i%50)/50)>0)for(;o--;)a.push(-10===s?["L",0,s*r]:["M",0,s*r],["L",5*r,s*r+2],["L",0,s*r+4]),i-=50,s+=7;if((o=(i-i%10)/10)>0)for(;o--;)a.push(-10===s?["L",0,s*r]:["M",0,s*r],["L",7*r,s*r]),i-=10,s+=3;if((o=(i-i%5)/5)>0)for(;o--;)a.push(-10===s?["L",0,s*r]:["M",0,s*r],["L",4*r,s*r]),i-=5,s+=3;return a}drawPoints(){let t=this.chart,e=this.yAxis,r=t.inverted,i=this.options.vectorLength/2;for(let o of this.points){let s=o.plotX,a=o.plotY;!1===this.options.clip||t.isInsidePlot(s,0)?(o.graphic||(o.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+H(o.colorIndex,o.series.colorIndex))),o.graphic.attr({d:this.windArrow(o),translateX:s+this.options.xOffset,translateY:a+this.options.yOffset,rotation:o.direction}),this.chart.styledMode||o.graphic.attr(this.pointAttribs(o))):o.graphic&&(o.graphic=o.graphic.destroy()),o.tooltipPos=[s+this.options.xOffset+(r&&!this.onSeries?i:0),a+this.options.yOffset-(r?0:i+e.pos-t.plotTop)]}}animate(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},P(this.options.animation))}markerAttribs(){return{}}getExtremes(){return{}}shouldShowTooltip(t,e,r={}){return r.ignoreX=this.chart.inverted,r.ignoreY=!r.ignoreX,super.shouldShowTooltip(t,e,r)}}I.defaultOptions=q(A.defaultOptions,{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0}),X.compose(I),Y(I.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:O,trackerGroups:["markerGroup"],translate:function(){let t=this.beaufortFloor,e=this.beaufortName;for(let r of(X.translate.call(this),this.points)){let i=0;for(;i<t.length&&!(t[i]>r.value);i++);r.beaufortLevel=i-1,r.beaufort=e[i-1]}}}),G().registerSeriesType("windbarb",I),d().windbarb||(d().windbarb=(t,e)=>{let r=0,i=0;for(let o=0,s=t.length;o<s;o++)r+=t[o]*Math.cos(e[o]*c().deg2rad),i+=t[o]*Math.sin(e[o]*c().deg2rad);return[t.reduce((t,e)=>t+e,0)/t.length,Math.atan2(i,r)/c().deg2rad]});let W=c();return l.default})());