!/**
 * Highcharts JS v12.0.1 (2024-11-28)
 * @module highcharts/modules/series-label
 * @requires highcharts
 *
 * (c) 2009-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").Templating):"function"==typeof define&&define.amd?define("highcharts/series-label",[["highcharts/highcharts"],["highcharts/highcharts","Templating"]],e):"object"==typeof exports?exports["highcharts/series-label"]=e(require("highcharts"),require("highcharts").Templating):t.Highcharts=e(t.Highcharts,t.Highcharts.Templating)}(this,(t,e)=>(()=>{"use strict";var r={984:t=>{t.exports=e},944:e=>{e.exports=t}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={exports:{}};return r[t](i,i.exports,a),i.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};a.d(i,{default:()=>B});var h=a(944),n=/*#__PURE__*/a.n(h),l=a(984),s=/*#__PURE__*/a.n(l);let c={enabled:!0,connectorAllowed:!1,connectorNeighbourDistance:24,format:void 0,formatter:void 0,minFontSize:null,maxFontSize:null,onArea:null,style:{fontSize:"0.8em",fontWeight:"bold"},useHTML:!1,boxesToAvoid:[]};function p(t,e,r,o,a,i){let h=(i-e)*(r-t)-(o-e)*(a-t);return h>0||!(h<0)}function d(t,e,r,o,a,i,h,n){return p(t,e,a,i,h,n)!==p(r,o,a,i,h,n)&&p(t,e,r,o,a,i)!==p(t,e,r,o,h,n)}let{animObject:u}=n(),{format:f}=s(),{setOptions:x}=n(),{composed:g}=n(),{boxIntersectLine:b,intersectRect:m}={boxIntersectLine:function(t,e,r,o,a,i,h,n){return d(t,e,t+r,e,a,i,h,n)||d(t+r,e,t+r,e+o,a,i,h,n)||d(t,e+o,t+r,e+o,a,i,h,n)||d(t,e,t,e+o,a,i,h,n)},intersectRect:function(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}},{addEvent:y,extend:X,fireEvent:M,isNumber:Y,pick:w,pushUnique:A,syncTimeout:S}=n();function v(t,e,r,o,a){let i=t.chart,h=t.options.label||{},n=w(h.onArea,!!t.area),l=n||h.connectorAllowed,s=i.boxesToAvoid,c=Number.MAX_VALUE,p=Number.MAX_VALUE,d,u,f,x,g,y,X;for(y=0;s&&y<s.length;y+=1)if(m(s[y],{left:e,right:e+o.width,top:r,bottom:r+o.height}))return!1;for(y=0;y<i.series.length;y+=1){let s=i.series[y],m=s.interpolatedPoints&&[...s.interpolatedPoints];if(s.visible&&m){let y=i.plotHeight/10;for(let t=i.plotTop;t<=i.plotTop+i.plotHeight;t+=y)m.unshift({chartX:i.plotLeft,chartY:t}),m.push({chartX:i.plotLeft+i.plotWidth,chartY:t});for(X=1;X<m.length;X+=1){if(m[X].chartX>=e-16&&m[X-1].chartX<=e+o.width+16){if(b(e,r,o.width,o.height,m[X-1].chartX,m[X-1].chartY,m[X].chartX,m[X].chartY))return!1;t===s&&!f&&a&&(f=b(e-16,r-16,o.width+32,o.height+32,m[X-1].chartX,m[X-1].chartY,m[X].chartX,m[X].chartY))}(l||f)&&(t!==s||n)&&(c=Math.min(c,(x=e+o.width/2-m[X].chartX)*x+(g=r+o.height/2-m[X].chartY)*g))}if(!n&&l&&t===s&&(a&&!f||c<Math.pow(h.connectorNeighbourDistance||1,2))){for(X=1;X<m.length;X+=1)(d=Math.min(Math.pow(e+o.width/2-m[X].chartX,2)+Math.pow(r+o.height/2-m[X].chartY,2),Math.pow(e-m[X].chartX,2)+Math.pow(r-m[X].chartY,2),Math.pow(e+o.width-m[X].chartX,2)+Math.pow(r-m[X].chartY,2),Math.pow(e+o.width-m[X].chartX,2)+Math.pow(r+o.height-m[X].chartY,2),Math.pow(e-m[X].chartX,2)+Math.pow(r+o.height-m[X].chartY,2)))<p&&(p=d,u=m[X]);f=!0}}}return(!a||!!f)&&{x:e,y:r,weight:c-(u?p:0),connectorPoint:u}}function L(t){if(this.renderer){let e=this,r=u(e.renderer.globalAnimation).duration;e.labelSeries=[],e.labelSeriesMaxSum=0,e.seriesLabelTimer&&n().clearTimeout(e.seriesLabelTimer),e.series.forEach(function(o){let a=o.options.label||{},i=o.labelBySeries,h=i&&i.closest,n=o.getColumn("y");a.enabled&&o.visible&&(o.graph||o.area)&&!o.boosted&&e.labelSeries&&(e.labelSeries.push(o),a.minFontSize&&a.maxFontSize&&n.length&&(o.sum=n.reduce((t,e)=>(t||0)+(e||0),0),e.labelSeriesMaxSum=Math.max(e.labelSeriesMaxSum||0,o.sum||0)),"load"===t.type&&(r=Math.max(r,u(o.options.animation).duration)),h&&(void 0!==h[0].plotX?i.animate({x:h[0].plotX+h[1],y:h[0].plotY+h[2]}):i.attr({opacity:0})))}),e.seriesLabelTimer=S(function(){e.series&&e.labelSeries&&function(t){t.boxesToAvoid=[];let e=t.labelSeries||[],r=t.boxesToAvoid;t.series.forEach(t=>(t.points||[]).forEach(e=>(e.dataLabels||[]).forEach(e=>{let{width:o,height:a}=e.getBBox(),i=(e.translateX||0)+(t.xAxis?t.xAxis.pos:t.chart.plotLeft),h=(e.translateY||0)+(t.yAxis?t.yAxis.pos:t.chart.plotTop);r.push({left:i,top:h,right:i+o,bottom:h+a})}))),e.forEach(function(t){let e=t.options.label||{};t.interpolatedPoints=function(t){let e,r,o,a,i;if(!t.xAxis&&!t.yAxis)return;let h=t.points,n=[],l=t.graph||t.area,s=l&&l.element,c=t.chart.inverted,p=t.xAxis,d=t.yAxis,u=c?d.pos:p.pos,f=c?p.pos:d.pos,x=c?p.len:d.len,g=c?d.len:p.len,b=w((t.options.label||{}).onArea,!!t.area),m=d.getThreshold(t.options.threshold),y={},X=c?"chartCenterX":"chartCenterY";function M(t){let e=Math.round((t.plotX||0)/8)+","+Math.round((t.plotY||0)/8);y[e]||(y[e]=1,n.push(t))}if(t.getPointSpline&&s&&s.getPointAtLength&&!b&&h.length<(t.chart.plotSizeX||0)/16){let t=l.toD&&l.attr("d");for(l.toD&&l.attr({d:l.toD}),o=s.getTotalLength(),e=0;e<o;e+=16){let t=s.getPointAtLength(e),r=c?g-t.y:t.x,o=c?x-t.x:t.y;M({chartX:u+r,chartY:f+o,plotX:r,plotY:o})}t&&l.attr({d:t});let r=h[h.length-1].pos();M({chartX:u+(r?.[0]||0),chartY:f+(r?.[1]||0)})}else{let t;for(e=0,o=h.length;e<o;e+=1){let o=h[e],[n,l]=o.pos()||[],{plotHigh:s}=o;if(Y(n)&&Y(l)){let e={plotX:n,plotY:l,chartX:u+n,chartY:f+l};if(b&&(s&&(e.plotY=s,e.chartY=f+s),c?e.chartCenterX=u+g-((s||o.plotY||0)+w(o.yBottom,m))/2:e.chartCenterY=f+((s||l)+w(o.yBottom,m))/2),t&&(r=Math.max(Math.abs(e.chartX-t.chartX),Math.abs(e.chartY-t.chartY)))>16&&r<999)for(i=1,a=Math.ceil(r/16);i<a;i+=1)M({chartX:t.chartX+(e.chartX-t.chartX)*(i/a),chartY:t.chartY+(e.chartY-t.chartY)*(i/a),[X]:(t[X]||0)+((e[X]||0)-(t[X]||0))*(i/a),plotX:(t.plotX||0)+(n-(t.plotX||0))*(i/a),plotY:(t.plotY||0)+(l-(t.plotY||0))*(i/a)});M(e),t=e}}}return n}(t),r.push(...e.boxesToAvoid||[])}),t.series.forEach(function(e){let r=e.options.label;if(!r||!e.xAxis&&!e.yAxis)return;let o="highcharts-color-"+w(e.colorIndex,"none"),a=!e.labelBySeries,i=r.minFontSize,h=r.maxFontSize,n=t.inverted,l=n?e.yAxis.pos:e.xAxis.pos,s=n?e.xAxis.pos:e.yAxis.pos,c=t.inverted?e.yAxis.len:e.xAxis.len,p=t.inverted?e.xAxis.len:e.yAxis.len,d=e.interpolatedPoints,x=w(r.onArea,!!e.area),g=[],b=e.getColumn("x"),m,y,M,Y,A,S,L=e.labelBySeries,T,P,B;function C(t,e,r){let o=Math.max(l,w(P,-1/0)),a=Math.min(l+c,w(B,1/0));return t>o&&t<=a-r.width&&e>=s&&e<=s+p-r.height}function E(){L&&(e.labelBySeries=L.destroy())}if(x&&!n&&(T=[e.xAxis.toPixels(b[0]),e.xAxis.toPixels(b[b.length-1])],P=Math.min.apply(Math,T),B=Math.max.apply(Math,T)),e.visible&&!e.boosted&&d){if(!L){let a=e.name;if("string"==typeof r.format?a=f(r.format,e,t):r.formatter&&(a=r.formatter.call(e)),e.labelBySeries=L=t.renderer.label(a,0,0,"connector",0,0,r.useHTML).addClass("highcharts-series-label highcharts-series-label-"+e.index+" "+(e.options.className||"")+" "+o),!t.renderer.styledMode){let o="string"==typeof e.color?e.color:"#666666";L.css(X({color:x?t.renderer.getContrast(o):o},r.style||{})),L.attr({opacity:t.renderer.forExport?1:0,stroke:e.color,"stroke-width":1})}i&&h&&L.css({fontSize:i+(e.sum||0)/(e.chart.labelSeriesMaxSum||0)*(h-i)+"px"}),L.attr({padding:0,zIndex:3}).add()}for((m=L.getBBox()).width=Math.round(m.width),A=d.length-1;A>0;A-=1)x?C(y=(d[A].chartCenterX??d[A].chartX)-m.width/2,M=(d[A].chartCenterY??d[A].chartY)-m.height/2,m)&&(S=v(e,y,M,m)):(C(y=d[A].chartX+3,M=d[A].chartY-m.height-3,m)&&(S=v(e,y,M,m,!0)),S&&g.push(S),C(y=d[A].chartX+3,M=d[A].chartY+3,m)&&(S=v(e,y,M,m,!0)),S&&g.push(S),C(y=d[A].chartX-m.width-3,M=d[A].chartY+3,m)&&(S=v(e,y,M,m,!0)),S&&g.push(S),C(y=d[A].chartX-m.width-3,M=d[A].chartY-m.height-3,m)&&(S=v(e,y,M,m,!0))),S&&g.push(S);if(r.connectorAllowed&&!g.length&&!x)for(y=l+c-m.width;y>=l;y-=16)for(M=s;M<s+p-m.height;M+=16)(Y=v(e,y,M,m,!0))&&g.push(Y);if(g.length){g.sort((t,e)=>e.weight-t.weight),S=g[0],(t.boxesToAvoid||[]).push({left:S.x,right:S.x+m.width,top:S.y,bottom:S.y+m.height});let r=Math.sqrt(Math.pow(Math.abs(S.x-(L.x||0)),2)+Math.pow(Math.abs(S.y-(L.y||0)),2));if(r&&e.labelBySeries){let o,i={opacity:t.renderer.forExport?1:0,x:S.x,y:S.y},h={opacity:1};r<=10&&(h={x:i.x,y:i.y},i={}),a&&(o=u(e.options.animation),o.duration*=.2),e.labelBySeries.attr(X(i,{anchorX:S.connectorPoint&&(S.connectorPoint.plotX||0)+l,anchorY:S.connectorPoint&&(S.connectorPoint.plotY||0)+s})).animate(h,o),e.options.kdNow=!0,e.buildKDTree();let n=e.searchPoint({chartX:S.x,chartY:S.y},!0);n&&(L.closest=[n,S.x-(n.plotX||0),S.y-(n.plotY||0)])}}else E()}else E()}),M(t,"afterDrawSeriesLabels")}(e)},e.renderer.forExport||!r?0:r)}}function T(t,e,r,o,a){let i=a&&a.anchorX,h=a&&a.anchorY,n,l,s=r/2;return Y(i)&&Y(h)&&(n=[["M",i,h]],(l=e-h)<0&&(l=-o-l),l<r&&(s=i<t+r/2?l:r-l),h>e+o?n.push(["L",t+s,e+o]):h<e?n.push(["L",t+s,e]):i<t?n.push(["L",t,e+o/2]):i>t+r&&n.push(["L",t+r,e+o/2])),n||[]}let P=n();({compose:function(t,e){A(g,"SeriesLabel")&&(y(t,"load",L),y(t,"redraw",L),e.prototype.symbols.connector=T,x({plotOptions:{series:{label:c}}}))}}).compose(P.Chart,P.SVGRenderer);let B=n();return i.default})());