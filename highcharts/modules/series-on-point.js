!/**
 * Highcharts JS v12.0.1 (2024-11-28)
 * @module highcharts/modules/series-on-point
 * @requires highcharts
 *
 * Series on point module
 *
 * (c) 2010-2024 Highsoft AS
 * Author: Rafal Sebestjanski and Piotr Madej
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").Point,require("highcharts").Series,require("highcharts").SeriesRegistry,require("highcharts").SVGRenderer):"function"==typeof define&&define.amd?define("highcharts/series-on-point",[["highcharts/highcharts"],["highcharts/highcharts","Point"],["highcharts/highcharts","Series"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","SVGRenderer"]],e):"object"==typeof exports?exports["highcharts/series-on-point"]=e(require("highcharts"),require("highcharts").Point,require("highcharts").Series,require("highcharts").SeriesRegistry,require("highcharts").SVGRenderer):t.Highcharts=e(t.Highcharts,t.Highcharts.Point,t.Highcharts.Series,t.Highcharts.SeriesRegistry,t.Highcharts.SVGRenderer)}(this,(t,e,s,i,r)=>(()=>{"use strict";var o,h={260:t=>{t.exports=e},540:t=>{t.exports=r},820:t=>{t.exports=s},512:t=>{t.exports=i},944:e=>{e.exports=t}},n={};function a(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={exports:{}};return h[t](s,s.exports,a),s.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var c={};a.d(c,{default:()=>T});var l=a(944),p=/*#__PURE__*/a.n(l);let{fireEvent:u,isArray:d,objectEach:g,uniqueKey:f}=p(),m=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||f(),this.modified=this,this.rowCount=0,this.versionTag=f();let e=0;g(t.columns||{},(t,s)=>{this.columns[s]=t.slice(),e=Math.max(e,t.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,g(this.columns,e=>{d(e)&&(e.length=t)})}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(e=>this.columns[e]?.[t])}setColumn(t,e=[],s=0,i){this.setColumns({[t]:e},s,i)}setColumns(t,e,s){let i=this.rowCount;g(t,(t,e)=>{this.columns[e]=t.slice(),i=t.length}),this.applyRowCount(i),s?.silent||(u(this,"afterSetColumns"),this.versionTag=f())}setRow(t,e=this.rowCount,s,i){let{columns:r}=this,o=s?this.rowCount+1:e+1;g(t,(t,h)=>{let n=r[h]||i?.addColumns!==!1&&Array(o);n&&(s?n.splice(e,0,t):n[e]=t,r[h]=n)}),o>this.rowCount&&this.applyRowCount(o),i?.silent||(u(this,"afterSetRows"),this.versionTag=f())}};var y=a(260),x=/*#__PURE__*/a.n(y);a(820);var C=a(512),P=/*#__PURE__*/a.n(C),R=a(540),w=/*#__PURE__*/a.n(R);let{composed:b}=p(),{bubble:S}=P().seriesTypes,{addEvent:v,defined:q,find:G,isNumber:E,pushUnique:O}=p();!function(t){t.compose=function(t,s){if(O(b,"SeriesOnPoint")){let{chartGetZData:i,seriesAfterInit:r,seriesAfterRender:o,seriesGetCenter:h,seriesShowOrHide:n,seriesTranslate:a}=e.prototype;t.types.pie.prototype.onPointSupported=!0,v(t,"afterInit",r),v(t,"afterRender",o),v(t,"afterGetCenter",h),v(t,"hide",n),v(t,"show",n),v(t,"translate",a),v(s,"beforeRender",i),v(s,"beforeRedraw",i)}return t};class e{constructor(t){this.getColumn=S.prototype.getColumn,this.getRadii=S.prototype.getRadii,this.getRadius=S.prototype.getRadius,this.getPxExtremes=S.prototype.getPxExtremes,this.getZExtremes=S.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}drawConnector(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));let t=this.getConnectorAttributes();t&&this.connector.animate(t)}getConnectorAttributes(){let t=this.series.chart,e=this.options;if(!e)return;let s=e.connectorOptions||{},i=e.position,r=t.get(e.id);if(!(r instanceof x())||!i||!q(r.plotX)||!q(r.plotY))return;let o=q(i.x)?i.x:r.plotX,h=q(i.y)?i.y:r.plotY,n=o+(i.offsetX||0),a=h+(i.offsetY||0),c=s.width||1,l=s.stroke||this.series.color,p=s.dashstyle,u={d:w().prototype.crispLine([["M",o,h],["L",n,a]],c),"stroke-width":c};return t.styledMode||(u.stroke=l,u.dashstyle=p),u}seriesAfterInit(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new e(this))}seriesAfterRender(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()}seriesGetCenter(t){let e=this.options.onPoint,s=t.positions;if(e){let t=this.chart.get(e.id);t instanceof x()&&q(t.plotX)&&q(t.plotY)&&(s[0]=t.plotX,s[1]=t.plotY);let i=e.position;i&&(q(i.x)&&(s[0]=i.x),q(i.y)&&(s[1]=i.y),i.offsetX&&(s[0]+=i.offsetX),i.offsetY&&(s[1]+=i.offsetY))}let i=this.radii&&this.radii[this.index];E(i)&&(s[2]=2*i),t.positions=s}seriesShowOrHide(){let t=this.chart.series;this.points?.forEach(e=>{let s=G(t,t=>{let s=((t.onPoint||{}).options||{}).id;return!!s&&s===e.id});s&&s.setVisible(!s.visible,!1)})}seriesTranslate(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)}chartGetZData(){let t=[];this.series.forEach(e=>{let s=e.options.onPoint;t.push(s?.z??null)});let e=new m({columns:{z:t}});this.series.forEach(t=>{t.onPoint&&(t.onPoint.dataTable=t.dataTable=e)})}}t.Additions=e}(o||(o={}));let j=o,H=p();j.compose(H.Series,H.Chart);let T=p();return c.default})());