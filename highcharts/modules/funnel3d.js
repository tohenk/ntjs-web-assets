!/**
 * Highcharts JS v12.0.1 (2024-11-28)
 * @module highcharts/modules/funnel3d
 * @requires highcharts
 * @requires highcharts/highcharts-3d
 * @requires highcharts/modules/cylinder
 *
 * Highcharts funnel module
 *
 * (c) 2010-2024 Kacper Madej
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").Color,require("highcharts").RendererRegistry,require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/funnel3d",[["highcharts/highcharts"],["highcharts/highcharts","Color"],["highcharts/highcharts","RendererRegistry"],["highcharts/highcharts","SeriesRegistry"]],e):"object"==typeof exports?exports["highcharts/funnel3d"]=e(require("highcharts"),require("highcharts").Color,require("highcharts").RendererRegistry,require("highcharts").SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.Color,t.Highcharts.RendererRegistry,t.Highcharts.SeriesRegistry)}(this,(t,e,r,i)=>(()=>{"use strict";var o={620:t=>{t.exports=e},608:t=>{t.exports=r},512:t=>{t.exports=i},944:e=>{e.exports=t}},n={};function h(t){var e=n[t];if(void 0!==e)return e.exports;var r=n[t]={exports:{}};return o[t](r,r.exports,h),r.exports}h.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return h.d(e,{a:e}),e},h.d=(t,e)=>{for(var r in e)h.o(e,r)&&!h.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},h.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s={};h.d(s,{default:()=>Y});var a=h(944),d=/*#__PURE__*/h.n(a),l=h(620),p=/*#__PURE__*/h.n(l),g=h(608),c=/*#__PURE__*/h.n(g);let{parse:y}=p(),{charts:f}=d(),{Element3D:u}=c().getRendererType().prototype,{merge:x}=d(),w=class extends u{constructor(){super(...arguments),this.mainParts=["top","bottom"],this.parts=["top","bottom","frontUpper","backUpper","frontLower","backLower","rightUpper","rightLower"],this.sideGroups=["upperGroup","lowerGroup"],this.sideParts={upperGroup:["frontUpper","backUpper","rightUpper"],lowerGroup:["frontLower","backLower","rightLower"]},this.pathType="funnel3d"}opacitySetter(t){let e=parseFloat(t),r=this.parts,i=f[this.renderer.chartIndex],o="group-opacity-"+e+"-"+i.index;if(this.parts=this.mainParts,this.singleSetterForParts("opacity",e),this.parts=r,!i.renderer.filterId){for(let t of(i.renderer.definition({tagName:"filter",attributes:{id:o},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"table",tableValues:"0 "+e}}]}]}),this.sideGroups))this[t].attr({filter:"url(#"+o+")"});if(this.renderer.styledMode)for(let t of(i.renderer.definition({tagName:"style",textContent:".highcharts-"+o+" {filter:url(#"+o+")}"}),this.sideGroups))this[t].addClass("highcharts-"+o)}return this}fillSetter(t){let e=y(t),r=e.rgba[3],i={top:y(t).brighten(.1).get(),bottom:y(t).brighten(-.2).get()};if(r<1?(e.rgba[3]=1,e=e.get("rgb"),this.attr({opacity:r})):e=t,e.linearGradient||e.radialGradient||!this.gradientForSides||(e={linearGradient:{x1:0,x2:1,y1:1,y2:1},stops:[[0,y(t).brighten(-.2).get()],[.5,t],[1,y(t).brighten(-.2).get()]]}),e.linearGradient)for(let t of this.sideGroups){let r=this[t].gradientBox,o=e.linearGradient,n=x(e,{linearGradient:{x1:r.x+o.x1*r.width,y1:r.y+o.y1*r.height,x2:r.x+o.x2*r.width,y2:r.y+o.y2*r.height}});for(let e of this.sideParts[t])i[e]=n}else if(x(!0,i,{frontUpper:e,backUpper:e,rightUpper:e,frontLower:e,backLower:e,rightLower:e}),e.radialGradient)for(let t of this.sideGroups){let e=this[t].gradientBox,r=e.x+e.width/2,i=e.y+e.height/2,o=Math.min(e.width,e.height);for(let e of this.sideParts[t])this[e].setRadialReference([r,i,o])}if(this.singleSetterForParts("fill",null,i),this.color=this.fill=t,e.linearGradient)for(let t of[this.frontLower,this.frontUpper]){let e=t.element,r=e&&this.renderer.gradients[e.gradient];r&&"userSpaceOnUse"!==r.attr("gradientUnits")&&r.attr({gradientUnits:"userSpaceOnUse"})}return this}adjustForGradient(){let t;for(let e of this.sideGroups){let r={x:Number.MAX_VALUE,y:Number.MAX_VALUE},i={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(let o of this.sideParts[e])t=this[o].getBBox(!0),r={x:Math.min(r.x,t.x),y:Math.min(r.y,t.y)},i={x:Math.max(i.x,t.x+t.width),y:Math.max(i.y,t.y+t.height)};this[e].gradientBox={x:r.x,width:i.x-r.x,y:r.y,height:i.y-r.y}}}zIndexSetter(){return this.finishedOnAdd&&this.adjustForGradient(),this.renderer.Element.prototype.zIndexSetter.apply(this,arguments)}onAdd(){this.adjustForGradient(),this.finishedOnAdd=!0}},{charts:m}=d(),{error:b,extend:A,merge:z}=d();function C(t){let e=this.element3d("funnel3d",t),r=this.styledMode,i={"stroke-width":1,stroke:"none"};for(let t of(e.upperGroup=this.g("funnel3d-upper-group").attr({zIndex:e.frontUpper.zIndex}).add(e),[e.frontUpper,e.backUpper,e.rightUpper]))r||t.attr(i),t.add(e.upperGroup);for(let t of(e.lowerGroup=this.g("funnel3d-lower-group").attr({zIndex:e.frontLower.zIndex}).add(e),[e.frontLower,e.backLower,e.rightLower]))r||t.attr(i),t.add(e.lowerGroup);return e.gradientForSides=t.gradientForSides,e}function L(t){this.getCylinderEnd||b("A required Highcharts module is missing: cylinder.js",!0,m[this.chartIndex]);let e=m[this.chartIndex],r=t.alphaCorrection=90-Math.abs(e.options.chart.options3d.alpha%180-90),i=this.cuboidPath.call(this,z(t,{depth:t.width,width:(t.width+t.bottom.width)/2})),o=i.isTop,n=!i.isFront,h=!!t.middle,s=this.getCylinderEnd(e,z(t,{x:t.x-t.width/2,z:t.z-t.width/2,alphaCorrection:r})),a=t.bottom.width,d=z(t,{width:a,x:t.x-a/2,z:t.z-a/2,alphaCorrection:r}),l=this.getCylinderEnd(e,d,!0),p=a,g=d,c=l,y=l,f;h&&(p=t.middle.width,g=z(t,{y:t.y+t.middle.fraction*t.height,width:p,x:t.x-p/2,z:t.z-p/2}),c=this.getCylinderEnd(e,g,!1),y=this.getCylinderEnd(e,g,!1));let u={top:s,bottom:l,frontUpper:this.getCylinderFront(s,c),zIndexes:{group:i.zIndexes.group,top:0!==o?0:3,bottom:1!==o?0:3,frontUpper:n?2:1,backUpper:n?1:2,rightUpper:n?2:1}};return u.backUpper=this.getCylinderBack(s,c),f=Math.min(p,t.width)/Math.max(p,t.width)!=1,u.rightUpper=this.getCylinderFront(this.getCylinderEnd(e,z(t,{x:t.x-t.width/2,z:t.z-t.width/2,alphaCorrection:f?-r:0}),!1),this.getCylinderEnd(e,z(g,{alphaCorrection:f?-r:0}),!h)),h&&(f=Math.min(p,a)/Math.max(p,a)!=1,z(!0,u,{frontLower:this.getCylinderFront(y,l),backLower:this.getCylinderBack(y,l),rightLower:this.getCylinderFront(this.getCylinderEnd(e,z(d,{alphaCorrection:f?-r:0}),!0),this.getCylinderEnd(e,z(g,{alphaCorrection:f?-r:0}),!1)),zIndexes:{frontLower:n?2:1,backLower:n?1:2,rightLower:n?1:2}})),u}var v=h(512),U=/*#__PURE__*/h.n(v);let{seriesTypes:{column:G}}=U(),{extend:M}=d();class k extends G.prototype.pointClass{}M(k.prototype,{shapeType:"funnel3d"});let{deg2rad:S}=d(),{pick:F}=d();function B(t,e,r,i){let o=e.options.chart.options3d,n=F(i,!!r&&e.inverted),h={x:e.plotWidth/2,y:e.plotHeight/2,z:o.depth/2,vd:F(o.depth,1)*F(o.viewDistance,0)},s=e.scale3d||1,a=S*o.beta*(n?-1:1),d=S*o.alpha*(n?-1:1),l={cosA:Math.cos(d),cosB:Math.cos(-a),sinA:Math.sin(d),sinB:Math.sin(-a)};return r||(h.x+=e.plotLeft,h.y+=e.plotTop),t.map(function(t){var e,r,i;let o=(e=(n?t.y:t.x)-h.x,r=(n?t.x:t.y)-h.y,i=(t.z||0)-h.z,{x:l.cosB*e-l.sinB*i,y:-l.sinA*l.sinB*e+l.cosA*r-l.cosB*l.sinA*i,z:l.cosA*l.sinB*e+l.sinA*r+l.cosA*l.cosB*i}),a=I(o,h,h.vd);return a.x=a.x*s+h.x,a.y=a.y*s+h.y,a.z=o.z*s+h.z,{x:n?a.y:a.x,y:n?a.x:a.y,z:a.z}})}function I(t,e,r){let i=r>0&&r<Number.POSITIVE_INFINITY?r/(t.z+e.z+r):1;return{x:t.x*i,y:t.y*i}}function R(t){let e=0,r,i;for(r=0;r<t.length;r++)i=(r+1)%t.length,e+=t[r].x*t[i].y-t[i].x*t[r].y;return e/2}let{noop:E}=d(),{perspective:P}={perspective:B,perspective3D:I,pointCameraDistance:function(t,e){let r=e.options.chart.options3d,i={x:e.plotWidth/2,y:e.plotHeight/2,z:F(r.depth,1)*F(r.viewDistance,0)+r.depth};return Math.sqrt(Math.pow(i.x-F(t.plotX,t.x),2)+Math.pow(i.y-F(t.plotY,t.y),2)+Math.pow(i.z-F(t.plotZ,t.z),2))},shapeArea:R,shapeArea3D:function(t,e,r){return R(B(t,e,r))}},{series:T,seriesTypes:{column:W}}=U(),{extend:H,merge:N,pick:q,relativeLength:O}=d();class j extends W{alignDataLabel(t,e,r){let i=t.dlBoxRaw,o=this.chart.inverted,n=t.plotY>q(this.translatedThreshold,this.yAxis.len),h=q(r.inside,!!this.options.stacking),s={x:i.x,y:i.y,height:0};r.align=q(r.align,!o||h?"center":n?"right":"left"),r.verticalAlign=q(r.verticalAlign,o||h?"middle":n?"top":"bottom"),"top"!==r.verticalAlign&&(s.y+=i.bottom/("bottom"===r.verticalAlign?1:2)),s.width=this.getWidthAt(s.y),this.options.reversed&&(s.width=i.fullWidth-s.width),h?s.x-=s.width/2:"left"===r.align?(r.align="right",s.x-=1.5*s.width):"right"===r.align?(r.align="left",s.x+=s.width/2):s.x-=s.width/2,t.dlBox=s,W.prototype.alignDataLabel.apply(this,arguments)}bindAxes(){T.prototype.bindAxes.apply(this,arguments),H(this.xAxis.options,{gridLineWidth:0,lineWidth:0,title:void 0,tickPositions:[]}),N(!0,this.yAxis.options,{gridLineWidth:0,title:void 0,labels:{enabled:!1}})}translate(){T.prototype.translate.apply(this,arguments);let t=this.chart,e=this.options,r=e.reversed,i=e.ignoreHiddenPoint,o=t.plotWidth,n=t.plotHeight,h=e.center,s=O(h[0],o),a=O(h[1],n),d=O(e.width,o),l=O(e.height,n),p=O(e.neckWidth,o),g=O(e.neckHeight,n),c=a-l/2+l-g,y=this.points,f=0,u=0,x,w,m,b,A,z,C,L,v;for(let t of(this.getWidthAt=w=function(t){return t>c||l===g?p:p+(d-p)*(1-(t-(a-l/2))/(l-g))},this.center=[s,a,l],this.centerX=s,y))i&&!1===t.visible||(f+=t.y);for(let o of y)C=null,m=f?o.y/f:0,z=(A=a-l/2+u*l)+m*l,x=w(A),L=z-A,v={gradientForSides:q(o.options.gradientForSides,e.gradientForSides),x:s,y:A,height:L,width:x,z:1,top:{width:x}},x=w(z),v.bottom={fraction:m,width:x},A>=c?v.isCylinder=!0:z>c&&(C=z,x=w(c),z=c,v.bottom.width=x,v.middle={fraction:L?(c-A)/L:0,width:x}),r&&(v.y=A=a+l/2-(u+m)*l,v.middle&&(v.middle.fraction=1-(L?v.middle.fraction:0)),x=v.width,v.width=v.bottom.width,v.bottom.width=x),o.shapeArgs=H(o.shapeArgs,v),o.percentage=100*m,o.plotX=s,r?o.plotY=a+l/2-(u+m/2)*l:o.plotY=(A+(C||z))/2,b=P([{x:s,y:o.plotY,z:r?-(d-w(o.plotY))/2:-w(o.plotY)/2}],t,!0)[0],o.tooltipPos=[b.x,b.y],o.dlBoxRaw={x:s,width:w(o.plotY),y:A,bottom:v.height||0,fullWidth:d},i&&!1===o.visible||(u+=m)}}j.compose=function(t){let e=t.prototype;e.funnel3d||(e.Element3D.types.funnel3d=w,A(e,{funnel3d:C,funnel3dPath:L}))},j.defaultOptions=N(W.defaultOptions,{center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,gradientForSides:!0,animation:!1,edgeWidth:0,colorByPoint:!0,showInLegend:!1,dataLabels:{align:"right",crop:!1,inside:!1,overflow:"allow"}}),H(j.prototype,{pointClass:k,translate3dShapes:E}),U().registerSeriesType("funnel3d",j),j.compose(c().getRendererType());let Y=d();return s.default})());