!/**
 * Highstock JS v12.0.1 (2024-11-28)
 * @module highcharts/indicators/pivot-points
 * @requires highcharts
 * @requires highcharts/modules/stock
 *
 * Indicator series type for Highcharts Stock
 *
 * (c) 2010-2024 PaweÅ‚ Fus
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/pivot-points",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"]],e):"object"==typeof exports?exports["highcharts/pivot-points"]=e(require("highcharts"),require("highcharts").SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}(this,(t,e)=>(()=>{"use strict";var a={512:t=>{t.exports=e},944:e=>{e.exports=t}},r={};function l(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={exports:{}};return a[t](o,o.exports,l),o.exports}l.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return l.d(e,{a:e}),e},l.d=(t,e)=>{for(var a in e)l.o(e,a)&&!l.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};l.d(o,{default:()=>b});var s=l(944),i=/*#__PURE__*/l.n(s),n=l(512),p=/*#__PURE__*/l.n(n);let h=p().seriesTypes.sma.prototype.pointClass;function d(t,e){let a=t.series.pointArrayMap,r,l=a.length;for(p().seriesTypes.sma.prototype.pointClass.prototype[e].call(t);l--;)t[r="dataLabel"+a[l]]&&t[r].element&&t[r].destroy(),t[r]=null}let{sma:u}=p().seriesTypes,{merge:c,extend:g,defined:y,isArray:f}=i();class m extends u{toYData(t){return[t.P]}translate(){let t=this;super.translate.apply(t),t.points.forEach(function(e){t.pointArrayMap.forEach(function(a){y(e[a])&&(e["plot"+a]=t.yAxis.toPixels(e[a],!0))})}),t.plotEndPoint=t.xAxis.toPixels(t.endPoint,!0)}getGraphPath(t){let e=this,a=[[],[],[],[],[],[],[],[],[]],r=e.pointArrayMap.length,l=e.plotEndPoint,o=[],s,i,n=t.length,p;for(;n--;){for(p=0,i=t[n];p<r;p++)y(i[s=e.pointArrayMap[p]])&&a[p].push({plotX:i.plotX,plotY:i["plot"+s],isNull:!1},{plotX:l,plotY:i["plot"+s],isNull:!1},{plotX:l,plotY:null,isNull:!0});l=i.plotX}return a.forEach(t=>{o=o.concat(super.getGraphPath.call(e,t))}),o}drawDataLabels(){let t,e,a,r;let l=this,o=l.pointArrayMap;l.options.dataLabels.enabled&&(e=l.points.length,o.concat([!1]).forEach((s,i)=>{for(r=e;r--;)a=l.points[r],s?(a.y=a[s],a.pivotLine=s,a.plotY=a["plot"+s],t=a["dataLabel"+s],i&&(a["dataLabel"+o[i-1]]=a.dataLabel),a.dataLabels||(a.dataLabels=[]),a.dataLabels[0]=a.dataLabel=t=t&&t.element?t:null):a["dataLabel"+o[i-1]]=a.dataLabel;super.drawDataLabels.call(l)}))}getValues(t,e){let a,r,l,o,s,i,n;let p=e.period,h=t.xData,d=t.yData,u=d?d.length:0,c=this[e.algorithm+"Placement"],g=[],y=[],m=[];if(!(h.length<p)&&f(d[0])&&4===d[0].length){for(n=p+1;n<=u+p;n+=p)l=h.slice(n-p-1,n),o=d.slice(n-p-1,n),r=l.length,a=l[r-1],i=c(this.getPivotAndHLC(o)),s=g.push([a].concat(i)),y.push(a),m.push(g[s-1].slice(1));return this.endPoint=l[0]+(a-l[0])/r*p,{values:g,xData:y,yData:m}}}getPivotAndHLC(t){let e=t[t.length-1][3],a=-1/0,r=1/0;return t.forEach(function(t){a=Math.max(a,t[1]),r=Math.min(r,t[2])}),[(a+r+e)/3,a,r,e]}standardPlacement(t){let e=t[1]-t[2];return[null,null,t[0]+e,2*t[0]-t[2],t[0],2*t[0]-t[1],t[0]-e,null,null]}camarillaPlacement(t){let e=t[1]-t[2];return[t[3]+1.5*e,t[3]+1.25*e,t[3]+1.1666*e,t[3]+1.0833*e,t[0],t[3]-1.0833*e,t[3]-1.1666*e,t[3]-1.25*e,t[3]-1.5*e]}fibonacciPlacement(t){let e=t[1]-t[2];return[null,t[0]+e,t[0]+.618*e,t[0]+.382*e,t[0],t[0]-.382*e,t[0]-.618*e,t[0]-e,null]}}m.defaultOptions=c(u.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),g(m.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:class extends h{destroyElements(){d(this,"destroyElements")}destroy(){d(this,"destroyElements")}}}),p().registerSeriesType("pivotpoints",m);let b=i();return o.default})());