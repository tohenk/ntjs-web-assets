!/**
 * Highstock JS v12.0.1 (2024-11-28)
 * @module highcharts/indicators/dmi
 * @requires highcharts
 * @requires highcharts/modules/stock
 *
 * Indicator series type for Highcharts Stock
 *
 * (c) 2010-2024 Rafal Sebestjanski
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/dmi",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"]],e):"object"==typeof exports?exports["highcharts/dmi"]=e(require("highcharts"),require("highcharts").SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry)}(this,(t,e)=>(()=>{"use strict";var a,s={512:t=>{t.exports=e},944:e=>{e.exports=t}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;var a=i[t]={exports:{}};return s[t](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};r.d(o,{default:()=>I});var l=r(944),n=/*#__PURE__*/r.n(l),p=r(512),h=/*#__PURE__*/r.n(p);let{sma:{prototype:u}}=h().seriesTypes,{defined:c,error:y,merge:f}=n();!function(t){let e=["bottomLine"],a=["top","bottom"],s=["top"];function i(t){return"plot"+t.charAt(0).toUpperCase()+t.slice(1)}function r(t,e){let a=[];return(t.pointArrayMap||[]).forEach(t=>{t!==e&&a.push(i(t))}),a}function o(){let t=this,e=t.pointValKey,a=t.linesApiNames,s=t.areaLinesNames,o=t.points,l=t.options,n=t.graph,p={options:{gapSize:l.gapSize}},h=[],g=r(t,e),m=o.length,d;if(g.forEach((t,e)=>{for(h[e]=[];m--;)d=o[m],h[e].push({x:d.x,plotX:d.plotX,plotY:d[t],isNull:!c(d[t])});m=o.length}),t.userOptions.fillColor&&s.length){let e=h[g.indexOf(i(s[0]))],a=1===s.length?o:h[g.indexOf(i(s[1]))],r=t.color;t.points=a,t.nextPoints=e,t.color=t.userOptions.fillColor,t.options=f(o,p),t.graph=t.area,t.fillGraph=!0,u.drawGraph.call(t),t.area=t.graph,delete t.nextPoints,delete t.fillGraph,t.color=r}a.forEach((e,a)=>{h[a]?(t.points=h[a],l[e]?t.options=f(l[e].styles,p):y('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),t.graph=t["graph"+e],u.drawGraph.call(t),t["graph"+e]=t.graph):y('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),t.points=o,t.options=l,t.graph=n,u.drawGraph.call(t)}function l(t){let e,a=[],s=[];if(t=t||this.points,this.fillGraph&&this.nextPoints){if((e=u.getGraphPath.call(this,this.nextPoints))&&e.length){e[0][0]="L",a=u.getGraphPath.call(this,t),s=e.slice(0,a.length);for(let t=s.length-1;t>=0;t--)a.push(s[t])}}else a=u.getGraphPath.apply(this,arguments);return a}function n(t){let e=[];return(this.pointArrayMap||[]).forEach(a=>{e.push(t[a])}),e}function p(){let t=this.pointArrayMap,e=[],a;e=r(this),u.translate.apply(this,arguments),this.points.forEach(s=>{t.forEach((t,i)=>{a=s[t],this.dataModify&&(a=this.dataModify.modifyValue(a)),null!==a&&(s[e[i]]=this.yAxis.toPixels(a,!0))})})}t.compose=function(t){let i=t.prototype;return i.linesApiNames=i.linesApiNames||e.slice(),i.pointArrayMap=i.pointArrayMap||a.slice(),i.pointValKey=i.pointValKey||"top",i.areaLinesNames=i.areaLinesNames||s.slice(),i.drawGraph=o,i.getGraphPath=l,i.toYData=n,i.translate=p,t}}(a||(a={}));let g=a,{sma:m}=h().seriesTypes,{correctFloat:d,extend:D,isArray:x,merge:M}=n();class b extends m{calculateDM(t,e,a){let s=t[e][1],i=t[e][2],r=t[e-1][1],o=t[e-1][2];return d(s-r>o-i?a?Math.max(s-r,0):0:a?0:Math.max(o-i,0))}calculateDI(t,e){return t/e*100}calculateDX(t,e){return d(Math.abs(t-e)/Math.abs(t+e)*100)}smoothValues(t,e,a){return d(t-t/a+e)}getTR(t,e){return d(Math.max(t[1]-t[2],e?Math.abs(t[1]-e[3]):0,e?Math.abs(t[2]-e[3]):0))}getValues(t,e){let a=e.period,s=t.xData,i=t.yData,r=i?i.length:0,o=[],l=[],n=[];if(s.length<=a||!x(i[0])||4!==i[0].length)return;let p=0,h=0,u=0,c;for(c=1;c<r;c++){let t,e,r,y,f,g,m,d,D;c<=a?(y=this.calculateDM(i,c,!0),f=this.calculateDM(i,c),g=this.getTR(i[c],i[c-1]),p+=y,h+=f,u+=g,c===a&&(m=this.calculateDI(p,u),d=this.calculateDI(h,u),D=this.calculateDX(p,h),o.push([s[c],D,m,d]),l.push(s[c]),n.push([D,m,d]))):(y=this.calculateDM(i,c,!0),f=this.calculateDM(i,c),g=this.getTR(i[c],i[c-1]),t=this.smoothValues(p,y,a),e=this.smoothValues(h,f,a),r=this.smoothValues(u,g,a),p=t,h=e,u=r,m=this.calculateDI(p,u),d=this.calculateDI(h,u),D=this.calculateDX(p,h),o.push([s[c],D,m,d]),l.push(s[c]),n.push([D,m,d]))}return{values:o,xData:l,yData:n}}}b.defaultOptions=M(m.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">‚óè</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),D(b.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),g.compose(b),h().registerSeriesType("dmi",b);let I=n();return o.default})());